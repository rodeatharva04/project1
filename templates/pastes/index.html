<!DOCTYPE html>
<html>
<head><title>Pastebin Lite</title></head>
<body style="font-family:sans-serif;max-width:600px;margin:50px auto;">
    <h1>Create Paste</h1>
    <textarea id="c" style="width:100%;height:200px;"></textarea><br>
    TTL: <input type="number" id="t" placeholder="seconds"><br>
    Views: <input type="number" id="v" placeholder="max views"><br>
    <button onclick="s()">Create</button>
    <div id="r" style="margin-top:20px;"></div>
    <script>
        async function s(){
            const res = await fetch('/api/pastes',{
                method:'POST',
                body:JSON.stringify({
                    content:document.getElementById('c').value,
                    ttl_seconds:parseInt(document.getElementById('t').value)||null,
                    max_views:parseInt(document.getElementById('v').value)||null
                })
            });
            const d = await res.json();
            document.getElementById('r').innerHTML = d.url ? `Link: <a href="${d.url}">${d.url}</a>` : d.error;
        }
    </script>
</body>
</html>
